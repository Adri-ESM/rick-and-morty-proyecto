{"ast":null,"code":"import _slicedToArray from\"/Users/asanchez/Desktop/desktop/CURSOS/soy-henry/MODULO-2/rick-and-morty-proyecto/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//import SearchBar from \"./SearchBar\";\nimport React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import{addFavorite as _addFavorite,removeFavorite as _removeFavorite}from\"../redux/actions\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=function Card(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFav=_useState2[0],setIsFav=_useState2[1];var handleFavorite=function handleFavorite(id){if(isFav){setIsFav(false);props.removeFavorite(id);axios.delete(\"http://localhost:3001/rickandmorty/fav/\".concat(props.id)).then(function(res){return console.log('ok');});}else{setIsFav(true);props.addFavorite(props);axios.post(\"http://localhost:3001/rickandmorty/fav\",props).then(function(res){return console.log('ok');});}};//FOR EACH\nuseEffect(function(){props.myFavorites.forEach(function(fav){if(fav.id===props.id){setIsFav(true);}});},[props.id,props.myFavorites]);//BUCLE FOR\n// useEffect(() => {\n//    for (let i = 0; i < props.myFavorites.length; i++){\n//       const fav = props.myFavorites[i];\n//       if(fav.id === props.id){\n//          setIsFav(true);\n//          break; // Una vez que se encuentra el favorito, se puede salir del bucle.\n//       }\n//    }\n// }, []);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"img\",{src:props.image,alt:props.name,className:\"card-image\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body-btn\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-number\",children:props.id}),/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:props.name}),/*#__PURE__*/_jsx(Link,{to:\"/detail/\".concat(props.id),children:/*#__PURE__*/_jsx(\"p\",{className:\"card-see-btn\"})}),isFav?/*#__PURE__*/_jsx(\"button\",{className:\"add-fav-button\",onClick:function onClick(){return handleFavorite(props.id);},children:/*#__PURE__*/_jsxs(\"p\",{className:\"add-fav-title\",children:[\"Added to Favorites\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"add-fav-heart-red\",children:\"\\u2764\\uFE0F\"})]})}):/*#__PURE__*/_jsx(\"button\",{className:\"add-fav-button\",onClick:handleFavorite,children:/*#__PURE__*/_jsxs(\"p\",{className:\"added-fav-title\",children:[\"Add to Favorites\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"add-fav-heart-white\",children:\"\\uD83E\\uDD0D\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return props.onClose(props.id);},className:\"card-close-btn\",children:\"X\"})})]});};var mapStateToProps=function mapStateToProps(props){return{myFavorites:props.myFavorites};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addFavorite:function addFavorite(props){dispatch(_addFavorite(props));},removeFavorite:function removeFavorite(id){dispatch(_removeFavorite(id));}};};export default connect(mapStateToProps,mapDispatchToProps)(Card);","map":{"version":3,"names":["React","useState","useEffect","Link","connect","addFavorite","removeFavorite","axios","jsx","_jsx","jsxs","_jsxs","Card","props","_useState","_useState2","_slicedToArray","isFav","setIsFav","handleFavorite","id","delete","concat","then","res","console","log","post","myFavorites","forEach","fav","className","children","src","image","alt","name","to","onClick","onClose","mapStateToProps","mapDispatchToProps","dispatch"],"sources":["/Users/asanchez/Desktop/desktop/CURSOS/soy-henry/MODULO-2/rick-and-morty-proyecto/front/src/components/Card.jsx"],"sourcesContent":["//import SearchBar from \"./SearchBar\";\n import React, { useState, useEffect } from \"react\";\n import { Link } from \"react-router-dom\";\n import { connect } from \"react-redux\";\n import { addFavorite, removeFavorite } from \"../redux/actions\"\nimport axios from 'axios';\n \n\n const Card = (props) => {\n   const [isFav, setIsFav ] = useState(false);\n\n\n    const handleFavorite = (id) => {\n      if(isFav) {\n         setIsFav(false);\n         props.removeFavorite(id);\n         axios.delete(`http://localhost:3001/rickandmorty/fav/${props.id}`)\n         .then(res => console.log('ok'));\n      } else {\n         setIsFav(true);\n         props.addFavorite(props);\n         axios.post(\"http://localhost:3001/rickandmorty/fav\", props)\n         .then(res => console.log('ok'));\n      }\n   };\n    \n\n   //FOR EACH\n   useEffect(() => {\n      props.myFavorites.forEach((fav) => {\n         if (fav.id === props.id) {\n            setIsFav(true);\n         }\n      });\n   }, [props.id, props.myFavorites]);\n\n   //BUCLE FOR\n      // useEffect(() => {\n      //    for (let i = 0; i < props.myFavorites.length; i++){\n      //       const fav = props.myFavorites[i];\n      //       if(fav.id === props.id){\n      //          setIsFav(true);\n      //          break; // Una vez que se encuentra el favorito, se puede salir del bucle.\n      //       }\n      //    }\n      // }, []);\n\n  \n \n\n   return (\n      <div className=\"card\">\n         <div className=\"card-header\">\n            <img src={props.image} alt={props.name} className=\"card-image\"></img>\n         </div>\n         <div className=\"card-body-btn\">\n            <div className=\"card-body\">\n                  <h3 className=\"card-number\">{props.id}</h3>\n                  <h2 className=\"card-title\">{props.name}</h2>\n            \n               <Link to={`/detail/${props.id}`}>\n                  <p className=\"card-see-btn\"></p>\n               </Link>\n\n               {\n            isFav ? (\n               <button className=\"add-fav-button\" onClick={() => handleFavorite(props.id)}>\n                  <p className=\"add-fav-title\">\n                     Added to Favorites\n                     <br/>\n                     <span className=\"add-fav-heart-red\">‚ù§Ô∏è</span>\n                  </p>\n                  \n                  </button>\n            ) : (\n               <button className=\"add-fav-button\" onClick={handleFavorite}>\n                  <p className=\"added-fav-title\">\n                     Add to Favorites\n                     <br/>\n                     <span className=\"add-fav-heart-white\">ü§ç</span>\n                  </p>\n                  </button>\n            )\n          }\n               </div>\n               \n            </div>\n               <div>\n            <button onClick={() => props.onClose(props.id)} className=\"card-close-btn\">X</button>\n            </div>\n            </div>\n            \n   );\n}\n\n   const mapStateToProps = (props) => {\n      return {\n      myFavorites: props.myFavorites,\n      };\n   };\n\n   const mapDispatchToProps = (dispatch) => {\n      return {\n         addFavorite: (props) => {\n            dispatch(addFavorite(props))\n         },  \n         removeFavorite: (id) => {\n            dispatch(removeFavorite(id))\n         }\n      }\n   }\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Card);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}